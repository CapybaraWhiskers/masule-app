{% extends 'base.html' %}
{% block title %}カレンダー{% endblock %}
{% block content %}
<h1>{{ year }}年{{ month }}月</h1>
<table class="calendar">
  <tr>
    <th>月</th>
    <th>火</th>
    <th>水</th>
    <th>木</th>
    <th>金</th>
    <th>土</th>
    <th>日</th>
  </tr>
  {% for week in days %}
  <tr>
      {% for day in week %}
      <td class="{% if day.month != month %}other-month {% endif %}{% if day == today %}today {% endif %}{% if events.get(day.strftime('%Y-%m-%d')) %}has-event{% endif %}">
        <div class="date-number">{{ day.day }}</div>
        {% set day_events = events.get(day.strftime('%Y-%m-%d'), []) %}
        {% if day_events %}
        <ul class="events">
          {% for name in day_events %}
          <li>{{ name }}</li>
          {% endfor %}
        </ul>
        {% endif %}
      </td>
      {% endfor %}
  </tr>
  {% endfor %}
</table>
{% endblock %}
