{% extends 'base.html' %}
{% block title %}トレーニング履歴{% endblock %}
{% block content %}
<h1>トレーニング履歴</h1>
<!-- 部位ごとの絞り込みプルダウン -->

<label for="muscleFilter">部位フィルター:</label>
<select id="muscleFilter">
  <option value="">全て</option>
  <option value="胸">胸</option>
  <option value="背中">背中</option>
  <option value="脚">脚</option>
  <option value="肩">肩</option>
  <option value="腕">腕</option>
  <option value="腹">腹</option>
</select>

{% if workouts %}
<!-- ログがある場合はテーブルで表示 -->
<table id="workoutTable">
  <tr>
    <th>日付</th>
    <th>種目</th>
    <th>部位</th>
    <th>セット</th>
    <th>回数</th>
    <th>重量(kg)</th>
    <th>操作</th>
  </tr>
  {% for w in workouts %}
  <tr data-muscle="{{ w.muscle_group }}" style="background-color:
      {% if w.muscle_group == '胸' %}#4a3b3b
      {% elif w.muscle_group == '背中' %}#3b4a4a
      {% elif w.muscle_group == '脚' %}#3b4a3b
      {% elif w.muscle_group == '肩' %}#4a4a3b
      {% elif w.muscle_group == '腕' %}#4a3b4a
      {% elif w.muscle_group == '腹' %}#3b3b4a
      {% else %}#2c2c2c
      {% endif %};
    ">
    <td>{{ w.date }}</td>
    <td>{{ w.exercise }}</td>
    <td>{{ w.muscle_group }}</td>
    <td>{{ w.sets }}</td>
    <td>{{ w.reps }}</td>
    <td>{{ w.weight }}</td>
      <td>
        <a href="#" class="button-link edit-workout" data-id="{{ w.id }}">編集</a>
        <form method="post" action="{{ url_for('delete_workout', wid=w.id) }}" style="display:inline">
          <button type="submit" onclick="return confirm('本当にこのログを削除しますか？')">削除</button>
        </form>
      </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<!-- ログが無い場合のメッセージ -->
<p>まだログがありません。<a href="{{ url_for('log') }}">記録しよう</a></p>
{% endif %}

{% endblock %}
